diff --git a/dist/index.d.ts b/dist/index.d.ts
index cb4dde7ee7ebc13c366548610d88e24ea672fd03..d0181af87fc74a2411c83d022fa16c50ead65481 100644
--- a/dist/index.d.ts
+++ b/dist/index.d.ts
@@ -53,13 +53,6 @@ type DiffEditorProps = {
      * @default false
      */
     keepCurrentModifiedModel?: boolean;
-    /**
-     * The theme for the monaco
-     * Available options "vs-dark" | "light"
-     * Define new themes by `monaco.editor.defineTheme`
-     * @default "light"
-     */
-    theme?: Theme | string;
     /**
      * The loading screen before the editor will be mounted
      * @default "loading..."
@@ -103,7 +96,7 @@ type DiffEditorProps = {
     onMount?: DiffOnMount;
 };
 
-declare function DiffEditor({ original, modified, language, originalLanguage, modifiedLanguage, originalModelPath, modifiedModelPath, keepCurrentOriginalModel, keepCurrentModifiedModel, theme, loading, options, height, width, className, wrapperProps, beforeMount, onMount, }: DiffEditorProps): JSX.Element;
+declare function DiffEditor({ original, modified, language, originalLanguage, modifiedLanguage, originalModelPath, modifiedModelPath, keepCurrentOriginalModel, keepCurrentModifiedModel, loading, options, height, width, className, wrapperProps, beforeMount, onMount, }: DiffEditorProps): JSX.Element;
 
 declare const _default$1: react.MemoExoticComponent<typeof DiffEditor>;
 
@@ -142,13 +135,6 @@ type EditorProps = {
      * `monaco.editor.createModel(..., ..., monaco.Uri.parse(defaultPath))`
      */
     path?: string;
-    /**
-     * The theme for the monaco
-     * Available options "vs-dark" | "light"
-     * Define new themes by `monaco.editor.defineTheme`
-     * @default "light"
-     */
-    theme?: Theme | string;
     /**
      * The line to jump on it
      */
@@ -222,7 +208,7 @@ type EditorProps = {
     onValidate?: OnValidate;
 };
 
-declare function Editor({ defaultValue, defaultLanguage, defaultPath, value, language, path, theme, line, loading, options, overrideServices, saveViewState, keepCurrentModel, width, height, className, wrapperProps, beforeMount, onMount, onChange, onValidate, }: EditorProps): JSX.Element;
+declare function Editor({ defaultValue, defaultLanguage, defaultPath, value, language, path, line, loading, options, overrideServices, saveViewState, keepCurrentModel, width, height, className, wrapperProps, beforeMount, onMount, onChange, onValidate, }: EditorProps): JSX.Element;
 
 declare const _default: react.MemoExoticComponent<typeof Editor>;
 
diff --git a/dist/index.js b/dist/index.js
index 96254a591189208fb770b0076e40b8fc3fa664c8..ec88cb82d96d3f6de29426cdac3867073171f586 100644
--- a/dist/index.js
+++ b/dist/index.js
@@ -1,2 +1,2 @@
-"use strict";var Dt=Object.create;var H=Object.defineProperty;var bt=Object.getOwnPropertyDescriptor;var kt=Object.getOwnPropertyNames;var St=Object.getPrototypeOf,Ot=Object.prototype.hasOwnProperty;var Tt=(t,e)=>{for(var r in e)H(t,r,{get:e[r],enumerable:!0})},rt=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of kt(e))!Ot.call(t,s)&&s!==r&&H(t,s,{get:()=>e[s],enumerable:!(o=bt(e,s))||o.enumerable});return t};var h=(t,e,r)=>(r=t!=null?Dt(St(t)):{},rt(e||!t||!t.__esModule?H(r,"default",{value:t,enumerable:!0}):r,t)),wt=t=>rt(H({},"__esModule",{value:!0}),t);var At={};Tt(At,{DiffEditor:()=>mt,Editor:()=>$,default:()=>jt,loader:()=>Rt.default,useMonaco:()=>Et});module.exports=wt(At);var Rt=h(require("@monaco-editor/loader"));var at=require("react");var f=h(require("react")),pt=h(require("@monaco-editor/loader"));var ut=require("react");var _=h(require("react"));var It={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},W=It;var nt=h(require("react"));var Pt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ot=Pt;function Ut({children:t}){return nt.default.createElement("div",{style:ot.container},t)}var it=Ut;var ct=it;function Lt({width:t,height:e,isEditorReady:r,loading:o,_ref:s,className:E,wrapperProps:x}){return _.default.createElement("section",{style:{...W.wrapper,width:t,height:e},...x},!r&&_.default.createElement(ct,null,o),_.default.createElement("div",{ref:s,style:{...W.fullWidth,...!r&&W.hide},className:E}))}var st=Lt;var N=(0,ut.memo)(st);var ft=require("react");function vt(t){(0,ft.useEffect)(t,[])}var S=vt;var V=require("react");function Ht(t,e,r=!0){let o=(0,V.useRef)(!0);(0,V.useEffect)(o.current||!r?()=>{o.current=!1}:t,e)}var M=Ht;function b(){}function D(t,e,r,o){return Wt(t,o)||_t(t,e,r,o)}function Wt(t,e){return t.editor.getModel(dt(t,e))}function _t(t,e,r,o){return t.editor.createModel(e,r,o?dt(t,o):void 0)}function dt(t,e){return t.Uri.parse(e)}function Nt({original:t,modified:e,language:r,originalLanguage:o,modifiedLanguage:s,originalModelPath:E,modifiedModelPath:x,keepCurrentOriginalModel:O=!1,keepCurrentModifiedModel:j=!1,theme:g="light",loading:U="Loading...",options:C={},height:A="100%",width:q="100%",className:B,wrapperProps:G={},beforeMount:J=b,onMount:K=b}){let[y,T]=(0,f.useState)(!1),[w,d]=(0,f.useState)(!0),p=(0,f.useRef)(null),u=(0,f.useRef)(null),I=(0,f.useRef)(null),a=(0,f.useRef)(K),n=(0,f.useRef)(J),k=(0,f.useRef)(!1);S(()=>{let i=pt.default.init();return i.then(l=>(u.current=l)&&d(!1)).catch(l=>l?.type!=="cancelation"&&console.error("Monaco initialization: error:",l)),()=>p.current?P():i.cancel()}),M(()=>{if(p.current&&u.current){let i=p.current.getOriginalEditor(),l=D(u.current,t||"",o||r||"text",E||"");l!==i.getModel()&&i.setModel(l)}},[E],y),M(()=>{if(p.current&&u.current){let i=p.current.getModifiedEditor(),l=D(u.current,e||"",s||r||"text",x||"");l!==i.getModel()&&i.setModel(l)}},[x],y),M(()=>{let i=p.current.getModifiedEditor();i.getOption(u.current.editor.EditorOption.readOnly)?i.setValue(e||""):e!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[e],y),M(()=>{p.current?.getModel()?.original.setValue(t||"")},[t],y),M(()=>{let{original:i,modified:l}=p.current.getModel();u.current.editor.setModelLanguage(i,o||r||"text"),u.current.editor.setModelLanguage(l,s||r||"text")},[r,o,s],y),M(()=>{u.current?.editor.setTheme(g)},[g],y),M(()=>{p.current?.updateOptions(C)},[C],y);let L=(0,f.useCallback)(()=>{if(!u.current)return;n.current(u.current);let i=D(u.current,t||"",o||r||"text",E||""),l=D(u.current,e||"",s||r||"text",x||"");p.current?.setModel({original:i,modified:l})},[r,e,s,t,o,E,x]),v=(0,f.useCallback)(()=>{!k.current&&I.current&&(p.current=u.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...C}),L(),u.current?.editor.setTheme(g),T(!0),k.current=!0)},[C,g,L]);(0,f.useEffect)(()=>{y&&a.current(p.current,u.current)},[y]),(0,f.useEffect)(()=>{!w&&!y&&v()},[w,y,v]);function P(){let i=p.current?.getModel();O||i?.original?.dispose(),j||i?.modified?.dispose(),p.current?.dispose()}return f.default.createElement(N,{width:q,height:A,isEditorReady:y,loading:U,_ref:I,className:B,wrapperProps:G})}var lt=Nt;var mt=(0,at.memo)(lt);var Mt=require("react"),Z=h(require("@monaco-editor/loader"));function Vt(){let[t,e]=(0,Mt.useState)(Z.default.__getMonacoInstance());return S(()=>{let r;return t||(r=Z.default.init(),r.then(o=>{e(o)})),()=>r?.cancel()}),t}var Et=Vt;var gt=require("react");var c=h(require("react")),xt=h(require("@monaco-editor/loader"));var z=require("react");function zt(t){let e=(0,z.useRef)();return(0,z.useEffect)(()=>{e.current=t},[t]),e.current}var yt=zt;var F=new Map;function Ft({defaultValue:t,defaultLanguage:e,defaultPath:r,value:o,language:s,path:E,theme:x="light",line:O,loading:j="Loading...",options:g={},overrideServices:U={},saveViewState:C=!0,keepCurrentModel:A=!1,width:q="100%",height:B="100%",className:G,wrapperProps:J={},beforeMount:K=b,onMount:y=b,onChange:T,onValidate:w=b}){let[d,p]=(0,c.useState)(!1),[u,I]=(0,c.useState)(!0),a=(0,c.useRef)(null),n=(0,c.useRef)(null),k=(0,c.useRef)(null),L=(0,c.useRef)(y),v=(0,c.useRef)(K),P=(0,c.useRef)(),i=(0,c.useRef)(o),l=yt(E),tt=(0,c.useRef)(!1),Q=(0,c.useRef)(!1);S(()=>{let m=xt.default.init();return m.then(R=>(a.current=R)&&I(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>n.current?ht():m.cancel()}),M(()=>{let m=D(a.current,t||o||"",e||s||"",E||r||"");m!==n.current?.getModel()&&(C&&F.set(l,n.current?.saveViewState()),n.current?.setModel(m),C&&n.current?.restoreViewState(F.get(E)))},[E],d),M(()=>{n.current?.updateOptions(g)},[g],d),M(()=>{!n.current||o===void 0||(n.current.getOption(a.current.editor.EditorOption.readOnly)?n.current.setValue(o):o!==n.current.getValue()&&(Q.current=!0,n.current.executeEdits("",[{range:n.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),n.current.pushUndoStop(),Q.current=!1))},[o],d),M(()=>{let m=n.current?.getModel();m&&s&&a.current?.editor.setModelLanguage(m,s)},[s],d),M(()=>{O!==void 0&&n.current?.revealLine(O)},[O],d),M(()=>{a.current?.editor.setTheme(x)},[x],d);let et=(0,c.useCallback)(()=>{if(!(!k.current||!a.current)&&!tt.current){v.current(a.current);let m=E||r,R=D(a.current,o||t||"",e||s||"",m||"");n.current=a.current?.editor.create(k.current,{model:R,automaticLayout:!0,...g},U),C&&n.current.restoreViewState(F.get(m)),a.current.editor.setTheme(x),p(!0),tt.current=!0}},[t,e,r,o,s,E,g,U,C,x]);(0,c.useEffect)(()=>{d&&L.current(n.current,a.current)},[d]),(0,c.useEffect)(()=>{!u&&!d&&et()},[u,d,et]),i.current=o,(0,c.useEffect)(()=>{d&&T&&(P.current?.dispose(),P.current=n.current?.onDidChangeModelContent(m=>{Q.current||T(n.current.getValue(),m)}))},[d,T]),(0,c.useEffect)(()=>{if(d){let m=a.current.editor.onDidChangeMarkers(R=>{let X=n.current.getModel()?.uri;if(X&&R.find(Y=>Y.path===X.path)){let Y=a.current.editor.getModelMarkers({resource:X});w?.(Y)}});return()=>{m?.dispose()}}return()=>{}},[d,w]);function ht(){P.current?.dispose(),A?C&&F.set(E,n.current.saveViewState()):n.current.getModel()?.dispose(),n.current.dispose()}return c.default.createElement(N,{width:q,height:B,isEditorReady:d,loading:j,_ref:k,className:G,wrapperProps:J})}var Ct=Ft;var $=(0,gt.memo)(Ct);var jt=$;0&&(module.exports={DiffEditor,Editor,loader,useMonaco});
+"use strict";var ht=Object.create;var v=Object.defineProperty;var Dt=Object.getOwnPropertyDescriptor;var bt=Object.getOwnPropertyNames;var kt=Object.getPrototypeOf,St=Object.prototype.hasOwnProperty;var Ot=(t,e)=>{for(var r in e)v(t,r,{get:e[r],enumerable:!0})},et=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of bt(e))!St.call(t,s)&&s!==r&&v(t,s,{get:()=>e[s],enumerable:!(o=Dt(e,s))||o.enumerable});return t};var R=(t,e,r)=>(r=t!=null?ht(kt(t)):{},et(e||!t||!t.__esModule?v(r,"default",{value:t,enumerable:!0}):r,t)),wt=t=>et(v({},"__esModule",{value:!0}),t);var jt={};Ot(jt,{DiffEditor:()=>at,Editor:()=>Z,default:()=>Ft,loader:()=>gt.default,useMonaco:()=>Mt});module.exports=wt(jt);var gt=R(require("@monaco-editor/loader"));var lt=require("react");var u=R(require("react")),dt=R(require("@monaco-editor/loader"));var st=require("react");var W=R(require("react"));var It={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},H=It;var ot=R(require("react"));var Pt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rt=Pt;function Tt({children:t}){return ot.default.createElement("div",{style:rt.container},t)}var nt=Tt;var it=nt;function Ut({width:t,height:e,isEditorReady:r,loading:o,_ref:s,className:m,wrapperProps:x}){return W.default.createElement("section",{style:{...H.wrapper,width:t,height:e},...x},!r&&W.default.createElement(it,null,o),W.default.createElement("div",{ref:s,style:{...H.fullWidth,...!r&&H.hide},className:m}))}var ct=Ut;var _=(0,st.memo)(ct);var ut=require("react");function Lt(t){(0,ut.useEffect)(t,[])}var S=Lt;var N=require("react");function vt(t,e,r=!0){let o=(0,N.useRef)(!0);(0,N.useEffect)(o.current||!r?()=>{o.current=!1}:t,e)}var y=vt;function D(){}function h(t,e,r,o){return Ht(t,o)||Wt(t,e,r,o)}function Ht(t,e){return t.editor.getModel(ft(t,e))}function Wt(t,e,r,o){return t.editor.createModel(e,r,o?ft(t,o):void 0)}function ft(t,e){return t.Uri.parse(e)}function _t({original:t,modified:e,language:r,originalLanguage:o,modifiedLanguage:s,originalModelPath:m,modifiedModelPath:x,keepCurrentOriginalModel:F=!1,keepCurrentModifiedModel:b=!1,loading:T="Loading...",options:C={},height:j="100%",width:A="100%",className:q,wrapperProps:B={},beforeMount:G=D,onMount:J=D}){let[M,O]=(0,u.useState)(!1),[w,d]=(0,u.useState)(!0),p=(0,u.useRef)(null),f=(0,u.useRef)(null),I=(0,u.useRef)(null),E=(0,u.useRef)(J),n=(0,u.useRef)(G),k=(0,u.useRef)(!1);S(()=>{let i=dt.default.init();return i.then(l=>(f.current=l)&&d(!1)).catch(l=>l?.type!=="cancelation"&&console.error("Monaco initialization: error:",l)),()=>p.current?P():i.cancel()}),y(()=>{if(p.current&&f.current){let i=p.current.getOriginalEditor(),l=h(f.current,t||"",o||r||"text",m||"");l!==i.getModel()&&i.setModel(l)}},[m],M),y(()=>{if(p.current&&f.current){let i=p.current.getModifiedEditor(),l=h(f.current,e||"",s||r||"text",x||"");l!==i.getModel()&&i.setModel(l)}},[x],M),y(()=>{let i=p.current.getModifiedEditor();i.getOption(f.current.editor.EditorOption.readOnly)?i.setValue(e||""):e!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[e],M),y(()=>{p.current?.getModel()?.original.setValue(t||"")},[t],M),y(()=>{let{original:i,modified:l}=p.current.getModel();f.current.editor.setModelLanguage(i,o||r||"text"),f.current.editor.setModelLanguage(l,s||r||"text")},[r,o,s],M),y(()=>{p.current?.updateOptions(C)},[C],M);let U=(0,u.useCallback)(()=>{if(!f.current)return;n.current(f.current);let i=h(f.current,t||"",o||r||"text",m||""),l=h(f.current,e||"",s||r||"text",x||"");p.current?.setModel({original:i,modified:l})},[r,e,s,t,o,m,x]),L=(0,u.useCallback)(()=>{!k.current&&I.current&&(p.current=f.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...C}),U(),O(!0),k.current=!0)},[C,U]);(0,u.useEffect)(()=>{M&&E.current(p.current,f.current)},[M]),(0,u.useEffect)(()=>{!w&&!M&&L()},[w,M,L]);function P(){let i=p.current?.getModel();F||i?.original?.dispose(),b||i?.modified?.dispose(),p.current?.dispose()}return u.default.createElement(_,{width:A,height:j,isEditorReady:M,loading:T,_ref:I,className:q,wrapperProps:B})}var pt=_t;var at=(0,lt.memo)(pt);var mt=require("react"),Y=R(require("@monaco-editor/loader"));function Nt(){let[t,e]=(0,mt.useState)(Y.default.__getMonacoInstance());return S(()=>{let r;return t||(r=Y.default.init(),r.then(o=>{e(o)})),()=>r?.cancel()}),t}var Mt=Nt;var Ct=require("react");var c=R(require("react")),yt=R(require("@monaco-editor/loader"));var V=require("react");function Vt(t){let e=(0,V.useRef)();return(0,V.useEffect)(()=>{e.current=t},[t]),e.current}var Et=Vt;var z=new Map;function zt({defaultValue:t,defaultLanguage:e,defaultPath:r,value:o,language:s,path:m,line:x,loading:F="Loading...",options:b={},overrideServices:T={},saveViewState:C=!0,keepCurrentModel:j=!1,width:A="100%",height:q="100%",className:B,wrapperProps:G={},beforeMount:J=D,onMount:M=D,onChange:O,onValidate:w=D}){let[d,p]=(0,c.useState)(!1),[f,I]=(0,c.useState)(!0),E=(0,c.useRef)(null),n=(0,c.useRef)(null),k=(0,c.useRef)(null),U=(0,c.useRef)(M),L=(0,c.useRef)(J),P=(0,c.useRef)(),i=(0,c.useRef)(o),l=Et(m),$=(0,c.useRef)(!1),K=(0,c.useRef)(!1);S(()=>{let a=yt.default.init();return a.then(g=>(E.current=g)&&I(!1)).catch(g=>g?.type!=="cancelation"&&console.error("Monaco initialization: error:",g)),()=>n.current?Rt():a.cancel()}),y(()=>{let a=h(E.current,t||o||"",e||s||"",m||r||"");a!==n.current?.getModel()&&(C&&z.set(l,n.current?.saveViewState()),n.current?.setModel(a),C&&n.current?.restoreViewState(z.get(m)))},[m],d),y(()=>{n.current?.updateOptions(b)},[b],d),y(()=>{!n.current||o===void 0||(n.current.getOption(E.current.editor.EditorOption.readOnly)?n.current.setValue(o):o!==n.current.getValue()&&(K.current=!0,n.current.executeEdits("",[{range:n.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),n.current.pushUndoStop(),K.current=!1))},[o],d),y(()=>{let a=n.current?.getModel();a&&s&&E.current?.editor.setModelLanguage(a,s)},[s],d),y(()=>{x!==void 0&&n.current?.revealLine(x)},[x],d);let tt=(0,c.useCallback)(()=>{if(!(!k.current||!E.current)&&!$.current){L.current(E.current);let a=m||r,g=h(E.current,o||t||"",e||s||"",a||"");n.current=E.current?.editor.create(k.current,{model:g,automaticLayout:!0,...b},T),C&&n.current.restoreViewState(z.get(a)),p(!0),$.current=!0}},[t,e,r,o,s,m,b,T,C]);(0,c.useEffect)(()=>{d&&U.current(n.current,E.current)},[d]),(0,c.useEffect)(()=>{!f&&!d&&tt()},[f,d,tt]),i.current=o,(0,c.useEffect)(()=>{d&&O&&(P.current?.dispose(),P.current=n.current?.onDidChangeModelContent(a=>{K.current||O(n.current.getValue(),a)}))},[d,O]),(0,c.useEffect)(()=>{if(d){let a=E.current.editor.onDidChangeMarkers(g=>{let Q=n.current.getModel()?.uri;if(Q&&g.find(X=>X.path===Q.path)){let X=E.current.editor.getModelMarkers({resource:Q});w?.(X)}});return()=>{a?.dispose()}}return()=>{}},[d,w]);function Rt(){P.current?.dispose(),j?C&&z.set(m,n.current.saveViewState()):n.current.getModel()?.dispose(),n.current.dispose()}return c.default.createElement(_,{width:A,height:q,isEditorReady:d,loading:F,_ref:k,className:B,wrapperProps:G})}var xt=zt;var Z=(0,Ct.memo)(xt);var Ft=Z;0&&(module.exports={DiffEditor,Editor,loader,useMonaco});
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/index.js.map b/dist/index.js.map
index 48151b7f9855f1b0d364a6cb3fd682258a258023..75784e62929aec6e09e1240e53c573a4c73cf519 100644
--- a/dist/index.js.map
+++ b/dist/index.js.map
@@ -1 +1 @@
-{"version":3,"sources":["../src/index.ts","../src/DiffEditor/index.ts","../src/DiffEditor/DiffEditor.tsx","../src/MonacoContainer/index.ts","../src/MonacoContainer/MonacoContainer.tsx","../src/MonacoContainer/styles.ts","../src/Loading/Loading.tsx","../src/Loading/styles.ts","../src/Loading/index.ts","../src/hooks/useMount/index.ts","../src/hooks/useUpdate/index.ts","../src/utils/index.ts","../src/hooks/useMonaco/index.ts","../src/Editor/index.ts","../src/Editor/Editor.tsx","../src/hooks/usePrevious/index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  theme = 'light',\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      monacoRef.current?.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, theme, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  theme = 'light',\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      monacoRef.current.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n    theme,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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","names":["src_exports","__export","DiffEditor_default","Editor_default","src_default","loader","useMonaco_default","__toCommonJS","import_loader","import_react","import_react","import_loader","import_react","import_react","styles","styles_default","import_react","styles","styles_default","Loading","children","React","styles_default","Loading_default","Loading_default","MonacoContainer","width","height","isEditorReady","loading","_ref","className","wrapperProps","React","styles_default","Loading_default","MonacoContainer_default","MonacoContainer_default","import_react","useMount","effect","useMount_default","import_react","useUpdate","effect","deps","applyChanges","isInitialMount","useUpdate_default","noop","getOrCreateModel","monaco","value","language","path","getModel","createModel","createModelUri","DiffEditor","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","keepCurrentModifiedModel","theme","loading","options","height","width","className","wrapperProps","beforeMount","noop","onMount","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","editorRef","monacoRef","containerRef","onMountRef","beforeMountRef","preventCreation","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","originalEditor","model","getOrCreateModel","modifiedEditor","setModels","originalModel","modifiedModel","createEditor","models","React","MonacoContainer_default","DiffEditor_default","DiffEditor_default","import_react","import_loader","useMonaco","monaco","setMonaco","loader","useMount_default","cancelable","useMonaco_default","import_react","import_react","import_loader","import_react","usePrevious","value","ref","usePrevious_default","viewStates","Editor","defaultValue","defaultLanguage","defaultPath","value","language","path","theme","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","noop","onMount","onChange","onValidate","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","monacoRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","usePrevious_default","preventCreation","preventTriggerChangeEvent","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","model","getOrCreateModel","createEditor","autoCreatedModelPath","defaultModel","event","changeMarkersListener","uris","editorUri","uri","markers","React","MonacoContainer_default","Editor_default","Editor_default","src_default","Editor_default"]}
\ No newline at end of file
+{"version":3,"sources":["../src/index.ts","../src/DiffEditor/index.ts","../src/DiffEditor/DiffEditor.tsx","../src/MonacoContainer/index.ts","../src/MonacoContainer/MonacoContainer.tsx","../src/MonacoContainer/styles.ts","../src/Loading/Loading.tsx","../src/Loading/styles.ts","../src/Loading/index.ts","../src/hooks/useMount/index.ts","../src/hooks/useUpdate/index.ts","../src/utils/index.ts","../src/hooks/useMonaco/index.ts","../src/Editor/index.ts","../src/Editor/Editor.tsx","../src/hooks/usePrevious/index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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","names":["src_exports","__export","DiffEditor_default","Editor_default","src_default","loader","useMonaco_default","__toCommonJS","import_loader","import_react","import_react","import_loader","import_react","import_react","styles","styles_default","import_react","styles","styles_default","Loading","children","React","styles_default","Loading_default","Loading_default","MonacoContainer","width","height","isEditorReady","loading","_ref","className","wrapperProps","React","styles_default","Loading_default","MonacoContainer_default","MonacoContainer_default","import_react","useMount","effect","useMount_default","import_react","useUpdate","effect","deps","applyChanges","isInitialMount","useUpdate_default","noop","getOrCreateModel","monaco","value","language","path","getModel","createModel","createModelUri","DiffEditor","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","keepCurrentModifiedModel","loading","options","height","width","className","wrapperProps","beforeMount","noop","onMount","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","editorRef","monacoRef","containerRef","onMountRef","beforeMountRef","preventCreation","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","originalEditor","model","getOrCreateModel","modifiedEditor","setModels","originalModel","modifiedModel","createEditor","models","React","MonacoContainer_default","DiffEditor_default","DiffEditor_default","import_react","import_loader","useMonaco","monaco","setMonaco","loader","useMount_default","cancelable","useMonaco_default","import_react","import_react","import_loader","import_react","usePrevious","value","ref","usePrevious_default","viewStates","Editor","defaultValue","defaultLanguage","defaultPath","value","language","path","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","noop","onMount","onChange","onValidate","isEditorReady","setIsEditorReady","isMonacoMounting","setIsMonacoMounting","monacoRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","usePrevious_default","preventCreation","preventTriggerChangeEvent","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","model","getOrCreateModel","createEditor","autoCreatedModelPath","defaultModel","event","changeMarkersListener","uris","editorUri","uri","markers","React","MonacoContainer_default","Editor_default","Editor_default","src_default","Editor_default"]}
\ No newline at end of file
diff --git a/dist/index.mjs b/dist/index.mjs
index 90741601724fcfdee7c4c7c6416389214390a46b..afd5fb51bee7d228215413d7850c88ae78b3e2eb 100644
--- a/dist/index.mjs
+++ b/dist/index.mjs
@@ -1,2 +1,2 @@
-import _e from"@monaco-editor/loader";import{memo as Tt}from"react";import kt,{useState as rt,useRef as k,useCallback as ot,useEffect as nt}from"react";import St from"@monaco-editor/loader";import{memo as yt}from"react";import K from"react";var lt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},v=lt;import mt from"react";var at={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Y=at;function Mt({children:t}){return mt.createElement("div",{style:Y.container},t)}var Z=Mt;var $=Z;function Et({width:t,height:r,isEditorReady:n,loading:e,_ref:a,className:m,wrapperProps:E}){return K.createElement("section",{style:{...v.wrapper,width:t,height:r},...E},!n&&K.createElement($,null,e),K.createElement("div",{ref:a,style:{...v.fullWidth,...!n&&v.hide},className:m}))}var tt=Et;var H=yt(tt);import{useEffect as xt}from"react";function Ct(t){xt(t,[])}var b=Ct;import{useEffect as gt,useRef as Rt}from"react";function ht(t,r,n=!0){let e=Rt(!0);gt(e.current||!n?()=>{e.current=!1}:t,r)}var l=ht;function h(){}function R(t,r,n,e){return Dt(t,e)||bt(t,r,n,e)}function Dt(t,r){return t.editor.getModel(et(t,r))}function bt(t,r,n,e){return t.editor.createModel(r,n,e?et(t,e):void 0)}function et(t,r){return t.Uri.parse(r)}function Ot({original:t,modified:r,language:n,originalLanguage:e,modifiedLanguage:a,originalModelPath:m,modifiedModelPath:E,keepCurrentOriginalModel:S=!1,keepCurrentModifiedModel:N=!1,theme:x="light",loading:P="Loading...",options:y={},height:V="100%",width:z="100%",className:F,wrapperProps:j={},beforeMount:A=h,onMount:q=h}){let[M,O]=rt(!1),[T,s]=rt(!0),u=k(null),c=k(null),w=k(null),d=k(q),o=k(A),D=k(!1);b(()=>{let i=St.init();return i.then(f=>(c.current=f)&&s(!1)).catch(f=>f?.type!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>u.current?I():i.cancel()}),l(()=>{if(u.current&&c.current){let i=u.current.getOriginalEditor(),f=R(c.current,t||"",e||n||"text",m||"");f!==i.getModel()&&i.setModel(f)}},[m],M),l(()=>{if(u.current&&c.current){let i=u.current.getModifiedEditor(),f=R(c.current,r||"",a||n||"text",E||"");f!==i.getModel()&&i.setModel(f)}},[E],M),l(()=>{let i=u.current.getModifiedEditor();i.getOption(c.current.editor.EditorOption.readOnly)?i.setValue(r||""):r!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],M),l(()=>{u.current?.getModel()?.original.setValue(t||"")},[t],M),l(()=>{let{original:i,modified:f}=u.current.getModel();c.current.editor.setModelLanguage(i,e||n||"text"),c.current.editor.setModelLanguage(f,a||n||"text")},[n,e,a],M),l(()=>{c.current?.editor.setTheme(x)},[x],M),l(()=>{u.current?.updateOptions(y)},[y],M);let U=ot(()=>{if(!c.current)return;o.current(c.current);let i=R(c.current,t||"",e||n||"text",m||""),f=R(c.current,r||"",a||n||"text",E||"");u.current?.setModel({original:i,modified:f})},[n,r,a,t,e,m,E]),L=ot(()=>{!D.current&&w.current&&(u.current=c.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...y}),U(),c.current?.editor.setTheme(x),O(!0),D.current=!0)},[y,x,U]);nt(()=>{M&&d.current(u.current,c.current)},[M]),nt(()=>{!T&&!M&&L()},[T,M,L]);function I(){let i=u.current?.getModel();S||i?.original?.dispose(),N||i?.modified?.dispose(),u.current?.dispose()}return kt.createElement(H,{width:z,height:V,isEditorReady:M,loading:P,_ref:w,className:F,wrapperProps:j})}var it=Ot;var wt=Tt(it);import{useState as It}from"react";import ct from"@monaco-editor/loader";function Pt(){let[t,r]=It(ct.__getMonacoInstance());return b(()=>{let n;return t||(n=ct.init(),n.then(e=>{r(e)})),()=>n?.cancel()}),t}var Ut=Pt;import{memo as zt}from"react";import Wt,{useState as ut,useEffect as W,useRef as C,useCallback as _t}from"react";import Nt from"@monaco-editor/loader";import{useEffect as Lt,useRef as vt}from"react";function Ht(t){let r=vt();return Lt(()=>{r.current=t},[t]),r.current}var st=Ht;var _=new Map;function Vt({defaultValue:t,defaultLanguage:r,defaultPath:n,value:e,language:a,path:m,theme:E="light",line:S,loading:N="Loading...",options:x={},overrideServices:P={},saveViewState:y=!0,keepCurrentModel:V=!1,width:z="100%",height:F="100%",className:j,wrapperProps:A={},beforeMount:q=h,onMount:M=h,onChange:O,onValidate:T=h}){let[s,u]=ut(!1),[c,w]=ut(!0),d=C(null),o=C(null),D=C(null),U=C(M),L=C(q),I=C(),i=C(e),f=st(m),Q=C(!1),B=C(!1);b(()=>{let p=Nt.init();return p.then(g=>(d.current=g)&&w(!1)).catch(g=>g?.type!=="cancelation"&&console.error("Monaco initialization: error:",g)),()=>o.current?pt():p.cancel()}),l(()=>{let p=R(d.current,t||e||"",r||a||"",m||n||"");p!==o.current?.getModel()&&(y&&_.set(f,o.current?.saveViewState()),o.current?.setModel(p),y&&o.current?.restoreViewState(_.get(m)))},[m],s),l(()=>{o.current?.updateOptions(x)},[x],s),l(()=>{!o.current||e===void 0||(o.current.getOption(d.current.editor.EditorOption.readOnly)?o.current.setValue(e):e!==o.current.getValue()&&(B.current=!0,o.current.executeEdits("",[{range:o.current.getModel().getFullModelRange(),text:e,forceMoveMarkers:!0}]),o.current.pushUndoStop(),B.current=!1))},[e],s),l(()=>{let p=o.current?.getModel();p&&a&&d.current?.editor.setModelLanguage(p,a)},[a],s),l(()=>{S!==void 0&&o.current?.revealLine(S)},[S],s),l(()=>{d.current?.editor.setTheme(E)},[E],s);let X=_t(()=>{if(!(!D.current||!d.current)&&!Q.current){L.current(d.current);let p=m||n,g=R(d.current,e||t||"",r||a||"",p||"");o.current=d.current?.editor.create(D.current,{model:g,automaticLayout:!0,...x},P),y&&o.current.restoreViewState(_.get(p)),d.current.editor.setTheme(E),u(!0),Q.current=!0}},[t,r,n,e,a,m,x,P,y,E]);W(()=>{s&&U.current(o.current,d.current)},[s]),W(()=>{!c&&!s&&X()},[c,s,X]),i.current=e,W(()=>{s&&O&&(I.current?.dispose(),I.current=o.current?.onDidChangeModelContent(p=>{B.current||O(o.current.getValue(),p)}))},[s,O]),W(()=>{if(s){let p=d.current.editor.onDidChangeMarkers(g=>{let G=o.current.getModel()?.uri;if(G&&g.find(J=>J.path===G.path)){let J=d.current.editor.getModelMarkers({resource:G});T?.(J)}});return()=>{p?.dispose()}}return()=>{}},[s,T]);function pt(){I.current?.dispose(),V?y&&_.set(m,o.current.saveViewState()):o.current.getModel()?.dispose(),o.current.dispose()}return Wt.createElement(H,{width:z,height:F,isEditorReady:s,loading:N,_ref:D,className:j,wrapperProps:A})}var ft=Vt;var dt=zt(ft);var Fe=dt;export{wt as DiffEditor,dt as Editor,Fe as default,_e as loader,Ut as useMonaco};
+import We from"@monaco-editor/loader";import{memo as Ot}from"react";import bt,{useState as et,useRef as k,useCallback as rt,useEffect as ot}from"react";import kt from"@monaco-editor/loader";import{memo as Et}from"react";import J from"react";var pt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},L=pt;import at from"react";var lt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},X=lt;function mt({children:t}){return at.createElement("div",{style:X.container},t)}var Y=mt;var Z=Y;function Mt({width:t,height:r,isEditorReady:n,loading:e,_ref:p,className:l,wrapperProps:E}){return J.createElement("section",{style:{...L.wrapper,width:t,height:r},...E},!n&&J.createElement(Z,null,e),J.createElement("div",{ref:p,style:{...L.fullWidth,...!n&&L.hide},className:l}))}var $=Mt;var v=Et($);import{useEffect as yt}from"react";function xt(t){yt(t,[])}var b=xt;import{useEffect as Ct,useRef as gt}from"react";function Rt(t,r,n=!0){let e=gt(!0);Ct(e.current||!n?()=>{e.current=!1}:t,r)}var M=Rt;function R(){}function g(t,r,n,e){return ht(t,e)||Dt(t,r,n,e)}function ht(t,r){return t.editor.getModel(tt(t,r))}function Dt(t,r,n,e){return t.editor.createModel(r,n,e?tt(t,e):void 0)}function tt(t,r){return t.Uri.parse(r)}function St({original:t,modified:r,language:n,originalLanguage:e,modifiedLanguage:p,originalModelPath:l,modifiedModelPath:E,keepCurrentOriginalModel:_=!1,keepCurrentModifiedModel:h=!1,loading:P="Loading...",options:y={},height:N="100%",width:V="100%",className:z,wrapperProps:F={},beforeMount:j=R,onMount:A=R}){let[a,S]=et(!1),[O,s]=et(!0),u=k(null),c=k(null),w=k(null),m=k(A),o=k(j),D=k(!1);b(()=>{let i=kt.init();return i.then(f=>(c.current=f)&&s(!1)).catch(f=>f?.type!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>u.current?I():i.cancel()}),M(()=>{if(u.current&&c.current){let i=u.current.getOriginalEditor(),f=g(c.current,t||"",e||n||"text",l||"");f!==i.getModel()&&i.setModel(f)}},[l],a),M(()=>{if(u.current&&c.current){let i=u.current.getModifiedEditor(),f=g(c.current,r||"",p||n||"text",E||"");f!==i.getModel()&&i.setModel(f)}},[E],a),M(()=>{let i=u.current.getModifiedEditor();i.getOption(c.current.editor.EditorOption.readOnly)?i.setValue(r||""):r!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[r],a),M(()=>{u.current?.getModel()?.original.setValue(t||"")},[t],a),M(()=>{let{original:i,modified:f}=u.current.getModel();c.current.editor.setModelLanguage(i,e||n||"text"),c.current.editor.setModelLanguage(f,p||n||"text")},[n,e,p],a),M(()=>{u.current?.updateOptions(y)},[y],a);let T=rt(()=>{if(!c.current)return;o.current(c.current);let i=g(c.current,t||"",e||n||"text",l||""),f=g(c.current,r||"",p||n||"text",E||"");u.current?.setModel({original:i,modified:f})},[n,r,p,t,e,l,E]),U=rt(()=>{!D.current&&w.current&&(u.current=c.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...y}),T(),S(!0),D.current=!0)},[y,T]);ot(()=>{a&&m.current(u.current,c.current)},[a]),ot(()=>{!O&&!a&&U()},[O,a,U]);function I(){let i=u.current?.getModel();_||i?.original?.dispose(),h||i?.modified?.dispose(),u.current?.dispose()}return bt.createElement(v,{width:V,height:N,isEditorReady:a,loading:P,_ref:w,className:z,wrapperProps:F})}var nt=St;var wt=Ot(nt);import{useState as It}from"react";import it from"@monaco-editor/loader";function Pt(){let[t,r]=It(it.__getMonacoInstance());return b(()=>{let n;return t||(n=it.init(),n.then(e=>{r(e)})),()=>n?.cancel()}),t}var Tt=Pt;import{memo as Vt}from"react";import Ht,{useState as st,useEffect as H,useRef as x,useCallback as Wt}from"react";import _t from"@monaco-editor/loader";import{useEffect as Ut,useRef as Lt}from"react";function vt(t){let r=Lt();return Ut(()=>{r.current=t},[t]),r.current}var ct=vt;var W=new Map;function Nt({defaultValue:t,defaultLanguage:r,defaultPath:n,value:e,language:p,path:l,line:E,loading:_="Loading...",options:h={},overrideServices:P={},saveViewState:y=!0,keepCurrentModel:N=!1,width:V="100%",height:z="100%",className:F,wrapperProps:j={},beforeMount:A=R,onMount:a=R,onChange:S,onValidate:O=R}){let[s,u]=st(!1),[c,w]=st(!0),m=x(null),o=x(null),D=x(null),T=x(a),U=x(A),I=x(),i=x(e),f=ct(l),K=x(!1),q=x(!1);b(()=>{let d=_t.init();return d.then(C=>(m.current=C)&&w(!1)).catch(C=>C?.type!=="cancelation"&&console.error("Monaco initialization: error:",C)),()=>o.current?dt():d.cancel()}),M(()=>{let d=g(m.current,t||e||"",r||p||"",l||n||"");d!==o.current?.getModel()&&(y&&W.set(f,o.current?.saveViewState()),o.current?.setModel(d),y&&o.current?.restoreViewState(W.get(l)))},[l],s),M(()=>{o.current?.updateOptions(h)},[h],s),M(()=>{!o.current||e===void 0||(o.current.getOption(m.current.editor.EditorOption.readOnly)?o.current.setValue(e):e!==o.current.getValue()&&(q.current=!0,o.current.executeEdits("",[{range:o.current.getModel().getFullModelRange(),text:e,forceMoveMarkers:!0}]),o.current.pushUndoStop(),q.current=!1))},[e],s),M(()=>{let d=o.current?.getModel();d&&p&&m.current?.editor.setModelLanguage(d,p)},[p],s),M(()=>{E!==void 0&&o.current?.revealLine(E)},[E],s);let Q=Wt(()=>{if(!(!D.current||!m.current)&&!K.current){U.current(m.current);let d=l||n,C=g(m.current,e||t||"",r||p||"",d||"");o.current=m.current?.editor.create(D.current,{model:C,automaticLayout:!0,...h},P),y&&o.current.restoreViewState(W.get(d)),u(!0),K.current=!0}},[t,r,n,e,p,l,h,P,y]);H(()=>{s&&T.current(o.current,m.current)},[s]),H(()=>{!c&&!s&&Q()},[c,s,Q]),i.current=e,H(()=>{s&&S&&(I.current?.dispose(),I.current=o.current?.onDidChangeModelContent(d=>{q.current||S(o.current.getValue(),d)}))},[s,S]),H(()=>{if(s){let d=m.current.editor.onDidChangeMarkers(C=>{let B=o.current.getModel()?.uri;if(B&&C.find(G=>G.path===B.path)){let G=m.current.editor.getModelMarkers({resource:B});O?.(G)}});return()=>{d?.dispose()}}return()=>{}},[s,O]);function dt(){I.current?.dispose(),N?y&&W.set(l,o.current.saveViewState()):o.current.getModel()?.dispose(),o.current.dispose()}return Ht.createElement(v,{width:V,height:z,isEditorReady:s,loading:_,_ref:D,className:F,wrapperProps:j})}var ut=Nt;var ft=Vt(ut);var ze=ft;export{wt as DiffEditor,ft as Editor,ze as default,We as loader,Tt as useMonaco};
 //# sourceMappingURL=index.mjs.map
\ No newline at end of file
diff --git a/dist/index.mjs.map b/dist/index.mjs.map
index 16f06209c91c1d9d90145ea17b6b05b11ce86382..05ccd2bf7864be062621abfa0a8825ebae6d996f 100644
--- a/dist/index.mjs.map
+++ b/dist/index.mjs.map
@@ -1 +1 @@
-{"version":3,"sources":["../src/index.ts","../src/DiffEditor/index.ts","../src/DiffEditor/DiffEditor.tsx","../src/MonacoContainer/index.ts","../src/MonacoContainer/MonacoContainer.tsx","../src/MonacoContainer/styles.ts","../src/Loading/Loading.tsx","../src/Loading/styles.ts","../src/Loading/index.ts","../src/hooks/useMount/index.ts","../src/hooks/useUpdate/index.ts","../src/utils/index.ts","../src/hooks/useMonaco/index.ts","../src/Editor/index.ts","../src/Editor/Editor.tsx","../src/hooks/usePrevious/index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  theme = 'light',\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      monacoRef.current?.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, theme, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  theme = 'light',\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      monacoRef.current.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n    theme,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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","names":["loader","memo","React","useState","useRef","useCallback","useEffect","loader","memo","React","styles","styles_default","React","styles","styles_default","Loading","children","React","styles_default","Loading_default","Loading_default","MonacoContainer","width","height","isEditorReady","loading","_ref","className","wrapperProps","React","styles_default","Loading_default","MonacoContainer_default","MonacoContainer_default","memo","useEffect","useMount","effect","useMount_default","useEffect","useRef","useUpdate","effect","deps","applyChanges","isInitialMount","useUpdate_default","noop","getOrCreateModel","monaco","value","language","path","getModel","createModel","createModelUri","DiffEditor","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","keepCurrentModifiedModel","theme","loading","options","height","width","className","wrapperProps","beforeMount","noop","onMount","isEditorReady","setIsEditorReady","useState","isMonacoMounting","setIsMonacoMounting","editorRef","useRef","monacoRef","containerRef","onMountRef","beforeMountRef","preventCreation","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","originalEditor","model","getOrCreateModel","modifiedEditor","setModels","useCallback","originalModel","modifiedModel","createEditor","useEffect","models","React","MonacoContainer_default","DiffEditor_default","DiffEditor_default","memo","useState","loader","useMonaco","monaco","setMonaco","useState","loader","useMount_default","cancelable","useMonaco_default","memo","React","useState","useEffect","useRef","useCallback","loader","useEffect","useRef","usePrevious","value","ref","usePrevious_default","viewStates","Editor","defaultValue","defaultLanguage","defaultPath","value","language","path","theme","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","noop","onMount","onChange","onValidate","isEditorReady","setIsEditorReady","useState","isMonacoMounting","setIsMonacoMounting","monacoRef","useRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","usePrevious_default","preventCreation","preventTriggerChangeEvent","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","model","getOrCreateModel","createEditor","useCallback","autoCreatedModelPath","defaultModel","useEffect","event","changeMarkersListener","uris","editorUri","uri","markers","React","MonacoContainer_default","Editor_default","Editor_default","memo","src_default","Editor_default"]}
\ No newline at end of file
+{"version":3,"sources":["../src/index.ts","../src/DiffEditor/index.ts","../src/DiffEditor/DiffEditor.tsx","../src/MonacoContainer/index.ts","../src/MonacoContainer/MonacoContainer.tsx","../src/MonacoContainer/styles.ts","../src/Loading/Loading.tsx","../src/Loading/styles.ts","../src/Loading/index.ts","../src/hooks/useMount/index.ts","../src/hooks/useUpdate/index.ts","../src/utils/index.ts","../src/hooks/useMonaco/index.ts","../src/Editor/index.ts","../src/Editor/Editor.tsx","../src/hooks/usePrevious/index.ts"],"sourcesContent":["import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import Loading from './Loading';\n\nexport default Loading;\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","import { useState } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport useMount from '../useMount';\n\nfunction useMonaco() {\n  const [monaco, setMonaco] = useState(loader.__getMonacoInstance());\n\n  useMount(() => {\n    let cancelable: ReturnType<typeof loader.init>;\n\n    if (!monaco) {\n      cancelable = loader.init();\n\n      cancelable.then((monaco) => {\n        setMonaco(monaco);\n      });\n    }\n\n    return () => cancelable?.cancel();\n  });\n\n  return monaco;\n}\n\nexport default useMonaco;\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n"],"mappings":"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","names":["loader","memo","React","useState","useRef","useCallback","useEffect","loader","memo","React","styles","styles_default","React","styles","styles_default","Loading","children","React","styles_default","Loading_default","Loading_default","MonacoContainer","width","height","isEditorReady","loading","_ref","className","wrapperProps","React","styles_default","Loading_default","MonacoContainer_default","MonacoContainer_default","memo","useEffect","useMount","effect","useMount_default","useEffect","useRef","useUpdate","effect","deps","applyChanges","isInitialMount","useUpdate_default","noop","getOrCreateModel","monaco","value","language","path","getModel","createModel","createModelUri","DiffEditor","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","keepCurrentModifiedModel","loading","options","height","width","className","wrapperProps","beforeMount","noop","onMount","isEditorReady","setIsEditorReady","useState","isMonacoMounting","setIsMonacoMounting","editorRef","useRef","monacoRef","containerRef","onMountRef","beforeMountRef","preventCreation","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","originalEditor","model","getOrCreateModel","modifiedEditor","setModels","useCallback","originalModel","modifiedModel","createEditor","useEffect","models","React","MonacoContainer_default","DiffEditor_default","DiffEditor_default","memo","useState","loader","useMonaco","monaco","setMonaco","useState","loader","useMount_default","cancelable","useMonaco_default","memo","React","useState","useEffect","useRef","useCallback","loader","useEffect","useRef","usePrevious","value","ref","usePrevious_default","viewStates","Editor","defaultValue","defaultLanguage","defaultPath","value","language","path","line","loading","options","overrideServices","saveViewState","keepCurrentModel","width","height","className","wrapperProps","beforeMount","noop","onMount","onChange","onValidate","isEditorReady","setIsEditorReady","useState","isMonacoMounting","setIsMonacoMounting","monacoRef","useRef","editorRef","containerRef","onMountRef","beforeMountRef","subscriptionRef","valueRef","previousPath","usePrevious_default","preventCreation","preventTriggerChangeEvent","useMount_default","cancelable","loader","monaco","error","disposeEditor","useUpdate_default","model","getOrCreateModel","createEditor","useCallback","autoCreatedModelPath","defaultModel","useEffect","event","changeMarkersListener","uris","editorUri","uri","markers","React","MonacoContainer_default","Editor_default","Editor_default","memo","src_default","Editor_default"]}
